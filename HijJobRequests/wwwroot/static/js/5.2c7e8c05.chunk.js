"use strict";(self.webpackChunkSADA=self.webpackChunkSADA||[]).push([[5,689],{90295:(e,l,s)=>{s.d(l,{A:()=>o});var a=s(31664),r=s.n(a),n=s(30685),i=s.n(n);s(81267);const t=i()(r()),o=e=>{t.fire({html:"<strong>".concat(e,"</strong>"),icon:"error",customClass:{confirmButton:"btn btn-primary"},buttonsStyling:!1,confirmButtonText:"\u062d\u0633\u0646\u0627",position:"bottom-end"})}},34976:(e,l,s)=>{s.d(l,{A:()=>t});var a=s(82483),r=s(66807),n=s(51356),i=s(56723);function t(e){let{title:l}=e;const{t:s}=(0,n.B)();return(0,a.useEffect)((()=>e=>{document.title=s("app_name")}),[]),(0,i.jsx)(r.m,{children:(0,i.jsxs)("title",{children:[l," | ","".concat(s("app_name"))]})})}},47490:(e,l,s)=>{s(82483),s(55334),s(49466),s(90363),s(60312),s(56723)},772:(e,l,s)=>{s.d(l,{A:()=>A});var a=s(82483),r=s(65442),n=s(53697),i=s(35350),t=s(71478),o=s(17960),d=s(13660),c=s(51146),m=s(11452),u=s(57373),h=s(51356),p=(s(52204),s(30109)),x=s.n(p),j=s(56723);function g(e){let{totalRecords:l,onPagination:s,perPage:a,setPerPage:r,currentPage:n,setCurrentPage:i}=e;const t=Math.ceil(l/a),{t:o}=(0,h.B)(),d=(e,l)=>{r(e),i(l+1)};return(0,j.jsxs)("div",{className:"d-flex sc-fzoNJl dGqwdB rdt_Pagination",style:{paddingRight:"1em"},children:[(0,j.jsx)(x(),{previousLabel:"",nextLabel:"",pageCount:t||1,activeClassName:"active",forcePage:0!==n?n-1:0,pageRangeDisplayed:2,onPageChange:e=>{let{selected:l}=e;d(a,l)},pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",containerClassName:"pagination react-paginate justify-content-start my-2 pr-1"}),(0,j.jsxs)("div",{className:"d-flex align-items-center w-100",children:[(0,j.jsx)(c.A,{for:"rows-per-page",children:o("Show")}),(0,j.jsxs)(m.A,{className:"form-control mx-50",type:"select",id:"rows-per-page",value:a,onChange:e=>{d(e.target.value,0)},style:{direction:"ltr",width:"5rem",padding:"0 0.8rem",backgroundPosition:"calc(100% - 3px) 11px, calc(100% - 20px) 13px, 100% 0"},children:[(0,j.jsx)("option",{value:5,children:"5"}),(0,j.jsx)("option",{value:10,children:"10"}),(0,j.jsx)("option",{value:25,children:"25"}),(0,j.jsx)("option",{value:50,children:"50"}),(0,j.jsx)("option",{value:l,children:"\u0627\u0644\u0643\u0644"})]}),(0,j.jsx)(c.A,{for:"rows-per-page",children:o("Rows")})]})]})}s(95460);function A(e){let{columns:l,data:s,totalRecords:p,onPagination:x=()=>{},progress:A=!1,showAddBtn:f=!0,handleAddButton:N=()=>{},addBtnUrl:b,showSearch:v=!0,refresherKey:C=1}=e;const[y,w]=(0,a.useState)(5),[P,k]=(0,a.useState)(1),[S,z]=(0,a.useState)(""),[F,q]=(0,a.useState)(1),{t:R}=(0,h.B)(),E=e=>{w(parseInt(e,10)),q((e=>e+1))};(0,a.useEffect)((()=>{x(P,y,S)}),[P,y,S,C,p]);return(0,j.jsxs)(o.A,{children:[(0,j.jsx)(d.A,{className:"justify-content-end mx-0 ml-1",children:(0,j.jsx)("div",{className:"invoice-list-table-header w-100 mr-1 ml-50 mt-2 mb-75 mr-2",children:(0,j.jsxs)("div",{className:"d-flex",style:{justifyContent:"space-between"},children:[(null===s||void 0===s?void 0:s.length)>0?v&&(0,j.jsxs)("div",{className:"d-flex align-items-center mb-sm-0 mb-1 mr-1",children:[(0,j.jsx)(c.A,{className:"mb-0",for:"search-invoice",children:R("Search")}),(0,j.jsx)(m.A,{id:"search-invoice",className:"ml-50 w-100",type:"text",value:S,onChange:e=>{if("{"==e.target.value[0]&&"}"==e.target.value[e.target.value.length-1]){let l=JSON.parse(e.target.value).approvalNum;z(l)}else z(e.target.value)},autoComplete:"off"})]}):null,f?b?(0,j.jsx)("div",{children:(0,j.jsx)(i.N_,{to:b,children:(0,j.jsx)(t.A.Ripple,{color:"primary",children:R("Add")})})}):(0,j.jsx)("div",{children:(0,j.jsx)(t.A.Ripple,{color:"primary",onClick:()=>N(),children:R("Add")})}):null]})})}),(0,j.jsx)(r.Ay,{noHeader:!0,responsive:!0,className:"react-dataTable",sortIcon:(0,j.jsx)(n.A,{size:10}),columns:l,data:s,pagination:!0,paginationPerPage:y,paginationComponent:()=>(0,j.jsx)(g,{totalRecords:p,perPage:y,setPerPage:E,currentPage:P,setCurrentPage:k,onPagination:x}),noDataComponent:(0,j.jsx)("div",{className:"noContent",style:{width:"100%",textAlign:"center"},children:(0,j.jsxs)("p",{style:{margin:"1em"},children:[" ",R("No Data Found")]})}),progressPending:A,progressComponent:(0,j.jsxs)("div",{className:"react-datatable-loader",style:{width:"100%",height:"100%",textAlign:"center",padding:"2%"},children:[R("Loading ......"),"\xa0 \xa0",(0,j.jsx)(u.A,{})]})},F)]})}},24257:(e,l,s)=>{s.d(l,{A:()=>o});var a=s(82483),r=s(1375),n=s(98020),i=s(35350),t=s(56723);const o=e=>{let{list:l}=e;return l?(0,t.jsx)(a.Fragment,{children:(0,t.jsxs)(r.A,{style:{marginTop:"-2%"},children:[l.map(((e,l)=>{if(e.link)return(0,t.jsx)(n.A,{children:(0,t.jsx)("h5",{children:(0,t.jsxs)(i.N_,{to:e.link,children:[" ",e.name," "]},l)})},l)})),(0,t.jsx)(n.A,{active:!0,children:(0,t.jsxs)("h5",{children:[" ",l[l.length-1].name," "]})})]})}):null}},14757:(e,l,s)=>{s.r(l),s.d(l,{default:()=>R});var a=s(82483),r=s(55334),n=s(34976),i=s(24257),t=s(83915),o=s(772),d=s(65082),c=s(10947),m=s(89379),u=s(17960),h=s(47552),p=s(13660),x=s(96854),j=s(16613),g=s(51146),A=s(11452),f=s(69889),N=s(71478),b=s(51356),v=(s(47490),s(56723));function C(e){var l,s;let{formik:a,typeForm:r}=e;const{t:n}=(0,b.B)();return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(u.A,{children:(0,v.jsxs)(h.A,{children:[(0,v.jsxs)(p.A,{children:[(0,v.jsx)(x.A,{sm:12,md:6,lg:3,children:(0,v.jsxs)(j.A,{children:[(0,v.jsx)(g.A,{for:"firstName",children:n("firstName")}),(0,v.jsx)(A.A,(0,m.A)((0,m.A)({type:"text",placeholder:n("firstName"),autoComplete:"off"},a.getFieldProps("firstName")),{},{disabled:"show"==r})),a.touched.firstName&&a.errors.firstName?(0,v.jsx)("small",{className:"text-danger",children:a.errors.firstName}):null]})}),(0,v.jsx)(x.A,{sm:12,md:6,lg:3,children:(0,v.jsxs)(j.A,{children:[(0,v.jsx)(g.A,{for:"lastName",children:n("lastName")}),(0,v.jsx)(A.A,(0,m.A)((0,m.A)({type:"text",placeholder:n("lastName"),autoComplete:"off"},a.getFieldProps("lastName")),{},{disabled:"show"==r})),a.touched.lastName&&a.errors.lastName?(0,v.jsx)("small",{className:"text-danger",children:a.errors.lastName}):null]})}),(0,v.jsx)(x.A,{sm:12,md:6,lg:3,children:(0,v.jsxs)(j.A,{children:[(0,v.jsx)(g.A,{for:"userName",children:n("userName")}),(0,v.jsx)(A.A,(0,m.A)((0,m.A)({type:"text",placeholder:n("userName"),autoComplete:"off"},a.getFieldProps("userName")),{},{disabled:"show"==r})),a.touched.userName&&a.errors.userName?(0,v.jsx)("small",{className:"text-danger",children:a.errors.userName}):null]})}),(0,v.jsx)(x.A,{sm:12,md:6,lg:3,children:(0,v.jsxs)(j.A,{children:[(0,v.jsx)(g.A,{for:"normalizedUserName",children:n("normalizedUserName")}),(0,v.jsx)(A.A,(0,m.A)((0,m.A)({type:"text",placeholder:n("normalizedUserName"),autoComplete:"off"},a.getFieldProps("normalizedUserName")),{},{disabled:"show"==r})),a.touched.normalizedUserName&&a.errors.normalizedUserName?(0,v.jsx)("small",{className:"text-danger",children:a.errors.normalizedUserName}):null]})}),(0,v.jsx)(x.A,{sm:12,md:6,lg:3,children:(0,v.jsxs)(j.A,{children:[(0,v.jsx)(g.A,{for:"email",children:n("email")}),(0,v.jsx)(A.A,(0,m.A)((0,m.A)({type:"text",placeholder:n("email"),autoComplete:"off"},a.getFieldProps("email")),{},{disabled:"show"==r})),a.touched.email&&a.errors.email?(0,v.jsx)("small",{className:"text-danger",children:a.errors.email}):null]})}),(0,v.jsx)(x.A,{sm:12,md:6,lg:3,children:(0,v.jsxs)(j.A,{children:[(0,v.jsx)(g.A,{for:"normalizedEmail",children:n("normalizedEmail")}),(0,v.jsx)(A.A,(0,m.A)((0,m.A)({type:"text",placeholder:n("normalizedEmail"),autoComplete:"off"},a.getFieldProps("normalizedEmail")),{},{disabled:"show"==r})),a.touched.normalizedEmail&&a.errors.normalizedEmail?(0,v.jsx)("small",{className:"text-danger",children:a.errors.normalizedEmail}):null]})}),(0,v.jsx)(x.A,{sm:12,md:6,lg:3,children:(0,v.jsxs)(j.A,{children:[(0,v.jsx)(g.A,{for:"emailConfirmed",children:n("emailConfirmed")}),(0,v.jsx)(f.A,{type:"switch",id:"emailConfirmed",name:"emailConfirmed",autoComplete:"off",checked:null===(l=a.values)||void 0===l?void 0:l.emailConfirmed,onChange:a.handleChange,disabled:"show"===r})]})}),(0,v.jsx)(x.A,{sm:12,md:6,lg:3,children:(0,v.jsxs)(j.A,{children:[(0,v.jsx)(g.A,{for:"password",children:n("password")}),(0,v.jsx)(A.A,(0,m.A)((0,m.A)({type:"text",placeholder:n("password"),autoComplete:"off"},a.getFieldProps("password")),{},{disabled:"show"==r})),a.touched.password&&a.errors.password?(0,v.jsx)("small",{className:"text-danger",children:a.errors.password}):null]})}),(0,v.jsx)(x.A,{sm:12,md:6,lg:3,children:(0,v.jsxs)(j.A,{children:[(0,v.jsx)(g.A,{for:"confirmPassword",children:n("confirmPassword")}),(0,v.jsx)(A.A,(0,m.A)((0,m.A)({type:"text",placeholder:n("confirmPassword"),autoComplete:"off"},a.getFieldProps("confirmPassword")),{},{disabled:"show"==r})),a.touched.confirmPassword&&a.errors.confirmPassword?(0,v.jsx)("small",{className:"text-danger",children:a.errors.confirmPassword}):null]})}),(0,v.jsx)(x.A,{sm:12,md:6,lg:3,children:(0,v.jsxs)(j.A,{children:[(0,v.jsx)(g.A,{for:"phoneNumber",children:n("phoneNumber")}),(0,v.jsx)(A.A,(0,m.A)((0,m.A)({type:"text",placeholder:n("phoneNumber"),autoComplete:"off"},a.getFieldProps("phoneNumber")),{},{disabled:"show"==r})),a.touched.phoneNumber&&a.errors.phoneNumber?(0,v.jsx)("small",{className:"text-danger",children:a.errors.phoneNumber}):null]})}),(0,v.jsx)(x.A,{sm:12,md:6,lg:3,children:(0,v.jsxs)(j.A,{children:[(0,v.jsx)(g.A,{for:"phoneNumberConfirmed",children:n("phoneNumberConfirmed")}),(0,v.jsx)(f.A,{type:"switch",id:"phoneNumberConfirmed",name:"phoneNumberConfirmed",autoComplete:"off",checked:null===(s=a.values)||void 0===s?void 0:s.phoneNumberConfirmed,onChange:a.handleChange,disabled:"show"===r})]})})]}),(0,v.jsx)(p.A,{style:{textAlign:"center",justifyContent:"center"},children:(0,v.jsx)(x.A,{sm:6,children:(0,v.jsx)(N.A,{color:"primary",onClick:()=>{a.submitForm()},children:n("add"==r?"Add":"edit"==r?"Edit":"Cancel")})})})]})})})}var y=s(90295),w=s(59132),P=s(1080),k=s(75937),S=s(93731);const z=e=>{let{t:l,handleModal:s,open:n,forceUpdate:i}=e;const t=l("NewAdd"),o=(0,a.useCallback)((()=>{u.resetForm(),s()}),[s]),m=(0,a.useMemo)((()=>c.Ik().shape({id:c.gl().nullable(),firstName:c.Yj().required("".concat(l("RequiredAddName"))),lastName:c.Yj().required("".concat(l("RequiredLastName"))),ownerSiteId:c.Yj().nullable(),userName:c.Yj().required("".concat(l("RequiredUserName"))),normalizedUserName:c.Yj().nullable(),email:c.Yj().email("".concat(l("InvalidEmail"))).required("".concat(l("RequiredEmail"))),normalizedEmail:c.Yj().nullable(),emailConfirmed:c.zM().required("".concat(l("RequiredEmailConfirmed"))),phoneNumber:c.Yj().nullable().matches(/^\d+$/,"".concat(l("InvalidPhoneNumber"))),phoneNumberConfirmed:c.zM().required("".concat(l("RequiredPhoneConfirmed"))),active:c.zM().required("".concat(l("RequiredActive")))})),[l]),u=(0,d.Wx)({initialValues:{id:null,firstName:null,lastName:null,photo:null,ownerSiteId:null,userName:null,normalizedUserName:null,email:null,normalizedEmail:null,emailConfirmed:!1,phoneNumber:null,phoneNumberConfirmed:!1,active:!0},validationSchema:m,onSubmit:e=>{(0,r.YL)({endPoint:"Haj/AspNetUsers/Post"})({body:e,onSuccess:()=>{o(),i(),u.resetForm()},onFailure:()=>{(0,y.A)("\u062a\u0639\u0630\u0631 \u0627\u0644\u0625\u0636\u0627\u0641\u0629")}})}}),h=(0,a.useMemo)((()=>(0,v.jsx)("div",{style:{display:"inline-block"},children:(0,v.jsx)(S.A,{style:{marginLeft:"20px"},className:"cursor-pointer",size:20,onClick:o})})),[o]);return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)(w.A,{isOpen:n,toggle:o,style:{maxWidth:"80%"},children:[(0,v.jsx)("input",{hidden:!0,name:"screenId",defaultValue:"city_ADD_MODAL_01"}),(0,v.jsx)(P.A,{className:"mb-3",toggle:o,close:h,tag:"div",children:(0,v.jsx)("h3",{className:"modal-title",children:t})}),(0,v.jsx)(k.A,{className:"flex-grow-1",children:(0,v.jsx)(C,{formik:u,typeForm:"add"})})]})})},F=e=>{let{t:l,handleUpdateModal:s,open:n,forceUpdate:i,id:t}=e;const o=l("Edit"),[u,h]=(0,a.useState)({name:"",active:!0}),p=(0,a.useCallback)((()=>{x.resetForm(),s()}),[s]);(0,a.useMemo)((()=>c.Ik().shape({id:c.gl().nullable(),firstName:c.Yj().required("".concat(l("RequiredAddName"))),lastName:c.Yj().required("".concat(l("RequiredLastName"))),ownerSiteId:c.Yj().nullable(),userName:c.Yj().required("".concat(l("RequiredUserName"))),normalizedUserName:c.Yj().nullable(),email:c.Yj().email("".concat(l("InvalidEmail"))).required("".concat(l("RequiredEmail"))),normalizedEmail:c.Yj().nullable(),emailConfirmed:c.zM().required("".concat(l("RequiredEmailConfirmed"))),phoneNumber:c.Yj().nullable().matches(/^\d+$/,"".concat(l("InvalidPhoneNumber"))),phoneNumberConfirmed:c.Yj().nullable().matches(/^\d+$/,"".concat(l("RequiredPhoneConfirmed"))),active:c.zM().required("".concat(l("RequiredActive")))})),[l]);(0,a.useEffect)((()=>{n&&(0,r._A)({endPoint:"Haj/AspNetUsers/GetById/".concat(t)})({onSuccess:e=>{var l;h((0,m.A)((0,m.A)({},e),{},{ownerSiteId:null===e||void 0===e||null===(l=e.erpOrganizationStructure)||void 0===l?void 0:l.id}))}})}),[n,t]);const x=(0,d.Wx)({initialValues:u,enableReinitialize:!0,onSubmit:e=>{(0,r.bn)({endPoint:"Haj/AspNetUsers/Put"})({body:e,onSuccess:()=>{p(),i(),x.resetForm()},onFailure:()=>{(0,y.A)("\u062a\u0639\u0630\u0631 \u0627\u0644\u062a\u0639\u062f\u064a\u0644")}})}}),j=(0,a.useMemo)((()=>(0,v.jsx)("div",{style:{display:"inline-block"},children:(0,v.jsx)(S.A,{style:{marginLeft:"20px"},className:"cursor-pointer",size:20,onClick:p})})),[p]);return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)(w.A,{isOpen:n,toggle:p,style:{maxWidth:"80%"},children:[(0,v.jsx)("input",{hidden:!0,name:"id",defaultValue:"Type_Edit_MODAL_01"}),(0,v.jsx)(P.A,{className:"mb-3",toggle:p,close:j,tag:"div",children:(0,v.jsx)("h3",{className:"modal-title",children:o})}),(0,v.jsx)(k.A,{className:"flex-grow-1",children:(0,v.jsx)(C,{formik:x,typeForm:"edit"})})]})})},q=e=>{let{t:l,handleShowModal:s,open:n,forceUpdate:i,id:t}=e;const o=l("Show"),[m,u]=(0,a.useState)({name:"",active:!0}),h=(0,a.useCallback)((()=>{x.resetForm(),s()}),[s]),p=(0,a.useMemo)((()=>c.Ik().shape({name:c.Yj().required("".concat(l("RequiredAddName")))})),[l]);(0,a.useEffect)((()=>{n&&(0,r._A)({endPoint:"Haj/AspNetUsers/GetById/".concat(t)})({onSuccess:e=>{u(e)}})}),[n,t]);const x=(0,d.Wx)({initialValues:m,enableReinitialize:!0,validationSchema:p,onSubmit:()=>{h()}}),j=(0,a.useMemo)((()=>(0,v.jsx)("div",{style:{display:"inline-block"},children:(0,v.jsx)(S.A,{style:{marginLeft:"20px"},className:"cursor-pointer",size:20,onClick:h})})),[h]);return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)(w.A,{isOpen:n,toggle:h,style:{maxWidth:"80%"},children:[(0,v.jsx)("input",{hidden:!0,name:"NameId",defaultValue:"Type_Edit_MODAL_01"}),(0,v.jsx)(P.A,{className:"mb-3",toggle:h,close:j,tag:"div",children:(0,v.jsxs)("h3",{className:"modal-title",children:[" ",o,"      "]})}),(0,v.jsx)(k.A,{className:"flex-grow-1",children:(0,v.jsx)(C,{formik:x,typeForm:"show"})})]})})};function R(){const[e,l]=(0,a.useState)([]),[s,d]=(0,a.useState)([]),[c,m]=(0,a.useState)(!1),[u,h]=(0,a.useState)(!1),[p,x]=(0,a.useState)(!1),[j,g]=(0,a.useState)(1),[A,f]=(0,a.useState)(!0),{t:N}=(0,b.B)(),C=N("Users"),y=[{link:null,name:C}],w=(0,a.useCallback)((()=>{g((e=>e+1))}),[]),P=(0,a.useCallback)((()=>{m((e=>!e))}),[]),k=(0,a.useCallback)((e=>{d(e),h((e=>!e))}),[]),S=(0,a.useCallback)((e=>{d(e),x((e=>!e))}),[]),R=(0,a.useCallback)((e=>{(0,t.LH)({message:N("MessageDelete")}).then((l=>{l.isConfirmed&&(0,r.RR)({endPoint:"Haj/AspNetUsers/Delete/"})({id:e,onSuccess:w})}))}),[w]),E=(0,a.useMemo)((()=>[{name:"firstName",selector:e=>null===e||void 0===e?void 0:e.firstName},{name:"lastName",selector:e=>null===e||void 0===e?void 0:e.lastName},{cell:e=>(0,v.jsxs)("div",{children:[(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(t.FI.TbEye,{color:t.ye,size:25,className:"mr-50 cursor-pointer",onClick:()=>S(null===e||void 0===e?void 0:e.id)})}),(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(t.FI.TbEditCircle,{color:t.Xu,size:25,className:"mr-50 cursor-pointer",onClick:()=>k(null===e||void 0===e?void 0:e.id)})}),(0,v.jsx)(t.FI.MdDeleteForever,{color:t.gI,size:25,className:"mr-50 cursor-pointer",onClick:()=>R(e.id)})]}),minWidth:"150px"}]),[R,N]),U=(0,a.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";f(!0),(0,r._A)({endPoint:"Haj/AspNetUsers/GetAll"})({params:{PageNumber:e,PageSize:s,PageSearch:a.trimEnd()},onSuccess:e=>{l(e),f(!1)}})}),[]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(n.A,{title:C}),(0,v.jsx)(i.A,{list:y}),(0,v.jsx)(o.A,{refresherKey:j,columns:E,data:null===e||void 0===e?void 0:e.data,totalRecords:null===e||void 0===e?void 0:e.totalRecords,isLoading:A,onPagination:U,handleAddButton:P,enableAdd:!0,enableSearch:!0,enableExtraction:!1}),(0,v.jsx)(z,{open:c,handleModal:P,forceUpdate:w,t:N}),(0,v.jsx)(F,{open:u,handleUpdateModal:k,forceUpdate:w,id:s,t:N}),(0,v.jsx)(q,{open:p,handleShowModal:S,forceUpdate:w,id:s,t:N})]})}}}]);
//# sourceMappingURL=5.2c7e8c05.chunk.js.map