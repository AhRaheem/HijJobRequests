"use strict";(self.webpackChunkSADA=self.webpackChunkSADA||[]).push([[578],{90295:(e,n,t)=>{t.d(n,{A:()=>s});var r=t(31664),o=t.n(r),i=t(30685),a=t.n(i);t(81267);const l=a()(o()),s=e=>{l.fire({html:"<strong>".concat(e,"</strong>"),icon:"error",customClass:{confirmButton:"btn btn-primary"},buttonsStyling:!1,confirmButtonText:"\u062d\u0633\u0646\u0627",position:"bottom-end"})}},34976:(e,n,t)=>{t.d(n,{A:()=>l});var r=t(82483),o=t(66807),i=t(51356),a=t(56723);function l(e){let{title:n}=e;const{t:t}=(0,i.B)();return(0,r.useEffect)((()=>e=>{document.title=t("app_name")}),[]),(0,a.jsx)(o.m,{children:(0,a.jsxs)("title",{children:[n," | ","".concat(t("app_name"))]})})}},51188:(e,n,t)=>{t.d(n,{A:()=>l});t(62541),t(82483);var r=t(71481),o=t(69889),i=t(51146),a=t(56723);const l=e=>{let{data:n,expanded:t,selectedNodes:l,showAdd:s,showEdit:c,showDelete:d,showCheckbox:u,showValues:h,nodeField:m,toggleExpand:f,addNode:v,editNode:p,confirmDeleteNode:y,toggleSelectNode:x,renderTree:j}=e;return(0,a.jsx)("ul",{children:n.map((e=>(0,a.jsxs)("li",{children:[(0,a.jsxs)("div",{className:"node-container",children:[e.children.length>0?(0,a.jsx)("a",{onClick:()=>f(null===e||void 0===e?void 0:e.id),children:t[e.id]?(0,a.jsx)(r.FaChevronDown,{}):(0,a.jsx)(r.FaChevronRight,{})}):(0,a.jsx)("a",{children:" - "}),u&&(0,a.jsx)(o.A,{id:"checkbox-".concat(null===e||void 0===e?void 0:e.name),type:"checkbox",checked:null===l||void 0===l?void 0:l.has(null===e||void 0===e?void 0:e.name),onChange:()=>x(null===e||void 0===e?void 0:e.name)}),(0,a.jsxs)(i.A,{onClick:()=>p(e),style:{fontSize:"20px",fontWeight:"bold"},children:[e[m]," ",h?(0,a.jsxs)(a.Fragment,{children:[" - ",e.value]}):null]}),(0,a.jsxs)("div",{className:"node-actions",children:[s&&(0,a.jsx)(r.FaPlus,{onClick:()=>v(null===e||void 0===e?void 0:e.id),title:"Add Child"}),c&&(0,a.jsx)(r.FaEdit,{onClick:()=>p(e),title:"Edit"}),d&&(0,a.jsx)(r.FaTrash,{onClick:()=>y(null===e||void 0===e?void 0:e.id),title:"Delete"})]})]}),e.children.length>0&&t[null===e||void 0===e?void 0:e.id]&&j(e.children)]},null===e||void 0===e?void 0:e.id)))})}},24257:(e,n,t)=>{t.d(n,{A:()=>s});var r=t(82483),o=t(1375),i=t(98020),a=t(35350),l=t(56723);const s=e=>{let{list:n}=e;return n?(0,l.jsx)(r.Fragment,{children:(0,l.jsxs)(o.A,{style:{marginTop:"-2%"},children:[n.map(((e,n)=>{if(e.link)return(0,l.jsx)(i.A,{children:(0,l.jsx)("h5",{children:(0,l.jsxs)(a.N_,{to:e.link,children:[" ",e.name," "]},n)})},n)})),(0,l.jsx)(i.A,{active:!0,children:(0,l.jsxs)("h5",{children:[" ",n[n.length-1].name," "]})})]})}):null}},70444:(e,n,t)=>{t.d(n,{A:()=>A});var r=t(89379),o=t(82483),i=t(51188),a=t(55334),l=t(71003),s=t(13660),c=t(96854),d=t(71478),u=t(83915),h=t(31664),m=t.n(h),f=t(30685),v=t.n(f);t(81267);const p=v()(m()),y=e=>{p.fire({html:"<strong>".concat(e,"</strong>"),timer:2e4,icon:"success",confirmButtonText:"\u062d\u0633\u0646\u0627",customClass:{confirmButton:"btn btn-primary"},buttonsStyling:!1,position:"bottom-end",width:"auto",willOpen(){},willClose(){clearInterval(undefined)}})};var x=t(90295),j=t(56723);const A=e=>{let{t:n}=e;const[t,h]=(0,o.useState)([]),[m,f]=(0,o.useState)({}),[v,p]=(0,o.useState)(),[A,g]=(0,o.useState)(),[S,C]=(0,o.useState)(),[b,w]=(0,o.useState)(!1),[k,R]=(0,o.useState)(null),[N,P]=(0,o.useState)(""),[E,F]=(0,o.useState)(""),[H,_]=(0,o.useState)(!1),{id:D}=(0,l.g)(),[O,B]=(0,o.useState)(!1),[T,G]=(0,o.useState)(!1),[I,L]=(0,o.useState)(!1),[K,M]=(0,o.useState)(!0),V="displayname",Y=(0,o.useCallback)((()=>{(0,a._A)({endPoint:"Haj/HajPermissionGrant/GetPermissionsTree"})({onSuccess:e=>{h(e)}})}),[]),q=(0,o.useCallback)((()=>{(0,a._A)({endPoint:"Haj/HajIdentityRole/GetAllPermissionByRoleName?roleName=".concat(D)})({onSuccess:e=>{C(new Set(e.map((e=>e.permissionName))))}})}),[]);(0,o.useEffect)((()=>{Y(),q()}),[]);const z=e=>{f((n=>(0,r.A)((0,r.A)({},n),{},{[e]:!n[e]})))},W=e=>{const n={id:"new-".concat(Date.now()),[V]:"",value:"",children:[]},o=t=>t.map((t=>t[V]===e?(0,r.A)((0,r.A)({},t),{},{children:[...t.children,n]}):t.children?(0,r.A)((0,r.A)({},t),{},{children:o(t.children)}):t));h(o(t)),w(!0),R(n)},$=e=>{w(!0),R(e),P(e[V]),F(e.value)},J=(e,n)=>{for(let t of e){if(t.name===n)return t;if(t.children){const e=J(t.children,n);if(e)return e}}return null},Q=(e,n)=>{for(let t of e){for(let r of t.children)if(r.name===n)return t;const e=Q(t.children,n);if(e)return e}return null},U=e=>{C((n=>{const t=new Set(n),r=new Set(v),o=new Set(A);return null!==t&&void 0!==t&&t.has(e)?(t.delete(e),null!==r&&void 0!==r&&r.has(e)?r.delete(e):o.add(e),Z(e,t,o,r)):(null!==o&&void 0!==o&&o.has(e)?o.delete(e):r.add(e),t.add(e),X(e,t,r,o)),p(r),g(o),t}))},X=(e,n,r,o)=>{if(J(t,e)){const i=Q(t,e);!i||null!==n&&void 0!==n&&n.has(i.name)||(n.add(i.name),null!==o&&void 0!==o&&o.has(i.name)?o.delete(i.name):r.add(i.name),X(i.name,n,r))}},Z=(e,n,r,o)=>{const i=J(t,e);if(i){n.delete(i.name),null!==o&&void 0!==o&&o.has(i.name)?o.delete(i.name):r.add(i.name);const e=t=>{t.forEach((t=>{null!==n&&void 0!==n&&n.has(t.name)&&(n.delete(t.name),null!==o&&void 0!==o&&o.has(t.name)?o.delete(t.name):r.add(t.name),t.children&&t.children.length>0&&e(t.children))}))};e(i.children)}},ee=e=>{R(J(t,e)),_(!0)},ne=e=>(0,j.jsx)(i.A,{data:e,expanded:m,selectedNodes:S,showAdd:O,showEdit:T,showDelete:I,showCheckbox:K,showValues:false,nodeField:V,toggleExpand:z,addNode:W,editNode:$,confirmDeleteNode:ee,toggleSelectNode:U,renderTree:ne}),te=(0,o.useCallback)((()=>{v&&0!==Array.from(v).length?(0,u.LH)({message:n("MessageAdd")}).then((e=>{e.isConfirmed&&(0,a.YL)({endPoint:"apiSahred/HajPermissionGrant/AddPermissionToRole?roleName=".concat(D)})({body:[...v],onSuccess:e=>{y(e.message)},onFailure:e=>{(0,x.A)(e.message)}})})):(0,x.A)("\u064a\u062c\u0628 \u0627\u062e\u062a\u064a\u0627\u0631 \u0635\u0644\u0627\u062d\u064a\u0647 \u0639\u0644\u0649 \u0627\u0644\u0627\u0642\u0644")})),re=(0,o.useCallback)((()=>{A&&0!==Array.from(A).length?(0,u.LH)({message:n("MessageDelete")}).then((e=>{e.isConfirmed&&(0,a.YL)({endPoint:"apiSahred/HajPermissionGrant/RemovePermissionFromRole?roleName=".concat(D)})({body:[...A],onSuccess:e=>{y(e.message)},onFailure:e=>{var n;(0,x.A)(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message)}})})):(0,x.A)("\u064a\u062c\u0628 \u062d\u0630\u0641 \u0635\u0644\u0627\u062d\u064a\u0647 \u0639\u0644\u0649 \u0627\u0644\u0627\u0642\u0644")}));return(0,j.jsxs)("div",{children:[ne(t),(0,j.jsxs)(s.A,{style:{textAlign:"center",justifyContent:"center"},children:[(0,j.jsx)(c.A,{sm:6,children:(0,j.jsx)(d.A,{color:"primary",onClick:te,children:n("Add")})}),(0,j.jsx)(c.A,{sm:6,children:(0,j.jsx)(d.A,{color:"primary",onClick:re,children:n("Delete")})})]})]})}},25578:(e,n,t)=>{t.r(n),t.d(n,{default:()=>v});var r=t(65082),o=t(10947),i=t(82483),a=t(55334),l=t(90295),s=t(70444),c=t(51356),d=t(17960),u=t(47552),h=t(34976),m=t(24257),f=t(56723);const v=()=>{const{t:e}=(0,c.B)(),[n,t]=(0,i.useState)(1),v=e("Edit Roles"),p=e("Roles"),y=(0,i.useMemo)((()=>[{link:"/roles",name:p+"  ----\x3e  "},{link:null,name:v}]),[p,v]),[x,j]=(0,i.useState)({name:"",active:!0}),A=(0,i.useCallback)((()=>{t((e=>e+1))}),[]),g=(0,i.useMemo)((()=>o.Ik().shape({name:o.Yj().required("".concat(e("RequiredAddName")))})),[e]),S=(0,r.Wx)({initialValues:x,enableReinitialize:!0,validationSchema:g,onSubmit:e=>{(0,a.bn)({endPoint:"Haj/HajIdentityRole/Put"})({body:e,onSuccess:()=>{A(),S.resetForm()},onFailure:()=>{(0,l.A)("\u062a\u0639\u0630\u0631 \u0627\u0644\u062a\u0639\u062f\u064a\u0644")}})}});return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(h.A,{title:v}),(0,f.jsx)(m.A,{list:y}),(0,f.jsx)(d.A,{children:(0,f.jsx)(u.A,{children:(0,f.jsx)(s.A,{t:e})})})]})}},71003:(e,n,t)=>{function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var o=t(96328),i=r(t(82483)),a=t(50949);t(16405),t(93820);var l=r(t(50309));function s(){return(s=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function c(e,n){e.prototype=Object.create(n.prototype),d(e.prototype.constructor=e,n)}function d(e,n){return(d=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function u(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],0<=n.indexOf(t)||(o[t]=e[t]);return o}var h=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(n=e.call.apply(e,[this].concat(r))||this).history=a.createBrowserHistory(n.props),n}return c(n,e),n.prototype.render=function(){return i.createElement(o.Router,{history:this.history,children:this.props.children})},n}(i.Component),m=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(n=e.call.apply(e,[this].concat(r))||this).history=a.createHashHistory(n.props),n}return c(n,e),n.prototype.render=function(){return i.createElement(o.Router,{history:this.history,children:this.props.children})},n}(i.Component),f=function(e,n){return"function"==typeof e?e(n):e},v=function(e,n){return"string"==typeof e?a.createLocation(e,null,null,n):e},p=function(e){return e},y=i.forwardRef;void 0===y&&(y=p);var x=y((function(e,n){var t=e.innerRef,r=e.navigate,o=e.onClick,a=u(e,["innerRef","navigate","onClick"]),l=a.target,c=s({},a,{onClick:function(n){try{o&&o(n)}catch(e){throw n.preventDefault(),e}n.defaultPrevented||0!==n.button||l&&"_self"!==l||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(n)||(n.preventDefault(),r())}});return c.ref=p!==y&&n||t,i.createElement("a",c)})),j=y((function(e,n){var t=e.component,r=void 0===t?x:t,c=e.replace,d=e.to,h=e.innerRef,m=u(e,["component","replace","to","innerRef"]);return i.createElement(o.__RouterContext.Consumer,null,(function(e){e||l(!1);var t=e.history,o=v(f(d,e.location),e.location),u=o?t.createHref(o):"",x=s({},m,{href:u,navigate:function(){var n=f(d,e.location),r=a.createPath(e.location)===a.createPath(v(n));(c||r?t.replace:t.push)(n)}});return p!==y?x.ref=n||h:x.innerRef=h,i.createElement(r,x)}))})),A=function(e){return e},g=i.forwardRef;void 0===g&&(g=A);var S=g((function(e,n){var t=e["aria-current"],r=void 0===t?"page":t,a=e.activeClassName,c=void 0===a?"active":a,d=e.activeStyle,h=e.className,m=e.exact,p=e.isActive,y=e.location,x=e.sensitive,S=e.strict,C=e.style,b=e.to,w=e.innerRef,k=u(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return i.createElement(o.__RouterContext.Consumer,null,(function(e){e||l(!1);var t=y||e.location,a=v(f(b,t),t),u=a.pathname,R=u&&u.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),N=R?o.matchPath(t.pathname,{path:R,exact:m,sensitive:x,strict:S}):null,P=!!(p?p(N,t):N),E="function"==typeof h?h(P):h,F="function"==typeof C?C(P):C;P&&(E=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.filter((function(e){return e})).join(" ")}(E,c),F=s({},F,d));var H=s({"aria-current":P&&r||null,className:E,style:F,to:a},k);return A!==g?H.ref=n||w:H.innerRef=w,i.createElement(j,H)}))}));Object.defineProperty(n,"g",{enumerable:!0,get:function(){return o.useParams}})},50309:e=>{var n="Invariant failed";e.exports=function(e,t){if(!e)throw new Error(n)}}}]);
//# sourceMappingURL=578.79c42fa8.chunk.js.map